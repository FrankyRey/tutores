{% extends '@AdminLTE/layout/default-layout.html.twig' %}

{% block logo_mini %}
    <img src="{{ asset('build/logo_small.png') }}" width="40" />
{% endblock %}

{% block logo_large %}
    <img src="{{ asset('build/logo.png') }}" width="100" />
{% endblock %}

{% block page_title %}
	Nueva Solicitud
{% endblock %}

{% block page_subtitle %}
{% endblock %}

{% block page_content %}
	<div class="row">
		<div class="col-md-8 col-md-offset-2">
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="panel-content">
						<p class="text-center"><strong>Anexo 1</strong></p>
                        <p class="text-center"><strong>FORMATO DE SOLICITUD PARA DESEMPEÑARLA FUNCIÓN DE TUTOTÍA EN EDUCACIÓN BÁSICA</strong></p>
                        <p class="text-center"> CICLO ESCOLAR 2019-2020</p>
                        <p class="text-justify"> Este formulario tiene el rpopósito de contar con los datos generales del aspirante e identificar si cumple con los requisitos correspondientes a la función de tutotía</p>
                        <p>Entidad Federativa: <strong>Puebla</strong></p>
                        {{ form_start(form) }}
                            {{ form_widget(form) }}
                            <button class="btn">{{ button_label|default('Save') }}</button>
                        {{ form_end(form) }}
                        <div class="ajax-results">
                            {{ dump(solicitud_usuario) }}
                        </div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts_page %}
    <script>
        var $entidad = $('#solicitud_usuario_idEntidadFederativa');
        $entidad.change(function () {
            var $form = $(this).closest('form');
            var data = {$form};
            console.log($entidad);
            data[$entidad.attr('name')] = $entidad.val();
            $.ajax({
                url : $form.attr('action'),
                type: $form.attr('method'),
                data : data,
                success: function(html) {
                    // Replace current position field ...
                    $('#solicitud_usuario_idMunicipioEntidadFederativa').replaceWith(
                    // ... with the returned one from the AJAX response.
                        $(html).find('#solicitud_usuario_idMunicipioEntidadFederativa')
                    );
                // Position field now displays the appropriate positions.
                }
            });
        });
    </script>
{% endblock %}